# Car-Number-Plate-Recognition

Project consists of two files
1. Car number plate recognition.py 
    ANN is implemented using back-propagation algorithm. 
2. imageProcessing.py
    detects and extracts the number plates. Also detects individual characters in the plate.

Main function is defined in Car number plate recognition.py. In the filename variable defined in main, the image of the car whose number plate is to be detected is provided.
The code uses a .jpg or .png file of the car provided. Code loads the image. Here image ‘input1.png’ is loaded. The original image is displayed upon loading in the program. In the image processing discussion below two images of number plates are considered as examples

## How To Run
1. run the file named Car Number Plate Recognition.py.
2. it takes as input .png and .jpg files. ample files are in the folder.
3. Folder trainData contains the dataset upon which the network is trained.
4. upon running the code, a file cropped.jpg is generated.

emaining explaination about the working of code and ANN is provided in Description.pdf

## Data sets
The data set utilized for training consists of the fonts used in number plates. Some of this data from
collected from the internet and some of it was generated by our own selves. Corresponding to each
character, 4 images are provided for training purpose.

## Algorithm
This algorithm uses artificial neural networks for optical character recognition. It makes use of the
back-propagation algorithm to train the network. The architecture is defined in sections followed. It
uses the perceptron learning rule to learn. Back-propagation is just a way of propagating the total
loss back into the neural network to know how much of the loss every node is responsible for, and
subsequently updating the weights in such a way that minimizes the loss by giving the nodes with
higher error rates lower weights and vice versa

![](https://github.com/samrafakhar/Car-Number-Plate-Recognition/blob/main/screenshots/1.PNG)

## Image processing
Following are the steps taken to extract the number plate from the image. This extracted number plate is then used to detect the car registration number.
1. The first step in image processing is to remove all color from the image. This step converts the image from RGB to grayscale. This is done using OpenCV cv2.cvtColor(image, cv2.COLOR_BGR2GRAY).

![](https://github.com/samrafakhar/Car-Number-Plate-Recognition/blob/main/screenshots/2.PNG)

2. The next step in this regard is the noise removal from the image. For this purpose, bilateral filter is applied which removes noise while preserving the edges. cv2.bilateralFilter(gray, 11, 17, 17)
3. Next step is to detect the edges of grayscale image. cv2.Canny(gray, 170, 200)

![](https://github.com/samrafakhar/Car-Number-Plate-Recognition/blob/main/screenshots/3.PNG)

4. This is followed by detecting the contours in the image. These contours are detected on the basis of the edges detected beforehand. A copy of the image is saved and contours are drawn on it afterwards.
5. Contours are sorted based on their area. The required portion retained is minimum required area. We have specified 30 as the minimum required contours area. anything smaller than this will not be considered.
6. Contours are sorted and top 30 of them are selected. Then we loop over our contours to find the best possible approximate contour of number plate.
7. Select the contour with 4 corners. This contour is cropped and stored as ‘cropped.jpg’. the selected contour is then drawn on the original image and overwritten on ‘cropped.jpg’. the cropped image can be observed as under.

![](https://github.com/samrafakhar/Car-Number-Plate-Recognition/blob/main/screenshots/4.PNG)

## Limitation
The limitation is that it is that it fails to detect the license plate if the lighting is dimmed or there is noise in the picture.
